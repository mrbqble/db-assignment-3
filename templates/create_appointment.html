{% extends "base.html" %}

{% block title %}Create Appointment - Database Management{% endblock %}

{% block content %}
<h2 style="margin-bottom: 20px; color: #495057;">Create Appointment</h2>

<form method="POST" style="max-width: 600px;">
    <div class="form-group">
        <label for="caregiver_user_id">Caregiver *</label>
        <select id="caregiver_user_id" name="caregiver_user_id" required>
            <option value="">-- Select Caregiver --</option>
            {% for caregiver_id, caregiver_name in caregiver_choices %}
            <option value="{{ caregiver_id }}" {% if request.form.get('caregiver_user_id') == caregiver_id|string %}selected{% endif %}>{{ caregiver_id }} - {{ caregiver_name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="member_user_id">Member *</label>
        <select id="member_user_id" name="member_user_id" required>
            <option value="">-- Select Member --</option>
            {% for member_id, member_name in member_choices %}
            <option value="{{ member_id }}" {% if request.form.get('member_user_id') == member_id|string %}selected{% endif %}>{{ member_id }} - {{ member_name }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="appointment_date">Appointment Date *</label>
        <input type="date" id="appointment_date" name="appointment_date" value="{{ request.form.get('appointment_date', '') }}" required>
    </div>

    <div class="form-group">
        <label for="appointment_time">Appointment Time *</label>
        <input type="time" id="appointment_time" name="appointment_time" value="{{ request.form.get('appointment_time', '') }}" required>
    </div>

    <div class="form-group">
        <label for="work_hours">Work Hours *</label>
        <input type="number" id="work_hours" name="work_hours" step="0.1" min="0.1" value="{{ request.form.get('work_hours', '') }}" required>
    </div>

    <div class="action-buttons">
        <button type="submit" class="btn btn-create">Create Appointment</button>
        <a href="{{ url_for('appointments') }}" class="btn btn-cancel">Cancel</a>
    </div>
</form>
{% endblock %}

