{% extends "base.html" %}

{% block title %}Create Member - Database Management{% endblock %}

{% block content %}
<h2 style="margin-bottom: 20px; color: #495057;">Create Member</h2>

<form method="POST" style="max-width: 600px;">
    <h3 style="margin-bottom: 15px; color: #667eea;">User Information</h3>
    <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" id="email" name="email" value="{{ request.form.get('email', '') }}"
               pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
               title="Please enter a valid email address (e.g., user@example.com)"
               required>
    </div>

    <div class="form-group">
        <label for="given_name">Given Name *</label>
        <input type="text" id="given_name" name="given_name" value="{{ request.form.get('given_name', '') }}" required>
    </div>

    <div class="form-group">
        <label for="surname">Surname *</label>
        <input type="text" id="surname" name="surname" value="{{ request.form.get('surname', '') }}" required>
    </div>

    <div class="form-group">
        <label for="city">City</label>
        <input type="text" id="city" name="city" value="{{ request.form.get('city', '') }}">
    </div>

    <div class="form-group">
        <label for="phone_number">Phone Number *</label>
        <input type="tel" id="phone_number" name="phone_number" value="{{ request.form.get('phone_number', '') }}"
               pattern="[\d\s\-\+\(\)]+"
               title="Please enter a valid phone number (digits, spaces, hyphens, parentheses, or + sign)"
               minlength="7" maxlength="20" required>
    </div>

    <div class="form-group">
        <label for="profile_description">Profile Description</label>
        <textarea id="profile_description" name="profile_description">{{ request.form.get('profile_description', '') }}</textarea>
    </div>

    <div class="form-group">
        <label for="password">Password *</label>
        <input type="password" id="password" name="password"
               pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&amp;*()_+\-=\[\]{};':&quot;\\|,.<>\/?]).{8,}$"
               title="Password must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, one digit, and one special character"
               required>
        <small style="display: block; margin-top: 5px; color: #6c757d; font-size: 0.9em;">
            Must be at least 8 characters with: 1 uppercase, 1 lowercase, 1 digit, and 1 special character
        </small>
    </div>

    <h3 style="margin: 30px 0 15px 0; color: #667eea;">Member Information</h3>
    <div class="form-group">
        <label for="house_rules">House Rules</label>
        <textarea id="house_rules" name="house_rules">{{ request.form.get('house_rules', '') }}</textarea>
    </div>

    <div class="form-group">
        <label for="dependent_description">Dependent Description</label>
        <textarea id="dependent_description" name="dependent_description">{{ request.form.get('dependent_description', '') }}</textarea>
    </div>

    <h3 style="margin: 30px 0 15px 0; color: #667eea;">Address *</h3>
    <div class="form-group">
        <label for="house_number">House Number *</label>
        <input type="text" id="house_number" name="house_number" value="{{ request.form.get('house_number', '') }}" required>
    </div>

    <div class="form-group">
        <label for="street">Street *</label>
        <input type="text" id="street" name="street" value="{{ request.form.get('street', '') }}" required>
    </div>

    <div class="form-group">
        <label for="town">Town *</label>
        <input type="text" id="town" name="town" value="{{ request.form.get('town', '') }}" required>
    </div>

    <div class="action-buttons">
        <button type="submit" class="btn btn-create">Create Member</button>
        <a href="{{ url_for('members') }}" class="btn btn-cancel">Cancel</a>
    </div>
</form>
{% endblock %}

